import{j as e,r as a,u as g,T as y}from"./index-b261080c.js";import{S as C,a as l}from"./Statistic.styled-8e181d6b.js";import{S as L,T as w,I as T,a as N,b as U}from"./SearchUsers.styled-ea00c31d.js";import{U as k}from"./UsersTable-20278898.js";const R=()=>e.jsxs(C,{children:[e.jsx(l,{children:"Нових користувачів"}),e.jsxs(l,{children:["+ ","Користувачів за вересень"]}),e.jsx(l,{children:"Доданих пісень"}),e.jsx(l,{children:"Онлайн користувачів"})]}),E=()=>{const[s,f]=a.useState(""),[o,i]=a.useState([]),[j,u]=a.useState(!1),{data:c,isLoading:p}=g(),n=a.useMemo(()=>{const t=c?c.allUsers:[];return t?t.filter(r=>r.status===!1):[]},[c]),S=s.trim()!==""?(o.length>0,"Результати пошуку:"):"Чекають на підтвердження (посилання):";a.useEffect(()=>{i(n)},[n]),a.useEffect(()=>{if(s.trim()!==""){const t=n.filter(r=>{var d,h,m,x;return((d=r.name)==null?void 0:d.toLowerCase().includes(s.toLowerCase()))||((h=r.firstName)==null?void 0:h.toLowerCase().includes(s.toLowerCase()))||((m=r.lastName)==null?void 0:m.toLowerCase().includes(s.toLowerCase()))||((x=r.contractNumber)==null?void 0:x.toLowerCase().includes(s.toLowerCase()))});i(t),u(t.length===0)}else i(n),u(!1)},[s,n]);const b=[{key:"firstName",label:"Ім’я",type:"name"},{key:"contractNumber",label:"№ договору",type:"string"},{key:"createdAt",label:"Дата заявки",type:"date"},{key:"details",label:"Детальніше",type:"link"},{key:"sendEmail",label:"",type:"button"}];return e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx(w,{children:S}),e.jsx(T,{type:"text",placeholder:"Пошук користувачів",value:s,onChange:t=>f(t.target.value)})]}),p?e.jsx(N,{children:"Завантаження..."}):o.length===0&&j?e.jsx(e.Fragment,{children:e.jsx(U,{children:" не знайдено"})}):e.jsx(k,{users:o,visibleColumns:b})]})},M=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{children:"Кабінет адміністратора"}),e.jsx(R,{}),e.jsx(E,{})]});export{M as default};
