import{j as a,R as z,g as o,h,i as m,k as d,l as G,m as u,o as f,p as v,q as E,F as H,s as J,t as K,v as Q,C as V,w as W,B as w,r as y,x as X,y as Y,z as Z,a as _,A as aa,U as ea,S,D as C,E as F,G as ta,H as sa,M as ca,T as la,N as r,O as ia,I as na}from"./index-345223ce.js";import{S as da,I as oa}from"./SearchUsers.styled-4e0e2214.js";const ma=({register:c,errors:e,margintop:x,control:t,dirtyFields:n})=>a.jsxs(z,{margintop:x,children:[a.jsxs(o,{children:[a.jsx(h,{children:"Контактна особа* "}),a.jsx(m,{type:"text",placeholder:"Контактна особа","aria-describedby":"contactFaceTooltip",className:`${e.contactFace?"invalid":""}${!e.contactFace&&n.contactFace?"valid":""}`,...c("contactFace")}),a.jsxs(d,{id:"contactFaceTooltip",className:`${e.contactFace?"visible":""}`,children:[" ",e.contactFace&&e.contactFace.message]})]}),a.jsxs(o,{children:[a.jsx(h,{children:"Ідентифікаційний номер* "}),a.jsx(m,{type:"text",placeholder:"Ідентифікаційний номер","aria-describedby":"contactFaceTaxCodeTooltip",className:`${e.contactFaceTaxCode?"invalid":""}${!e.contactFaceTaxCode&&n.contactFaceTaxCode?"valid":""}`,...c("contactFaceTaxCode")}),a.jsxs(d,{id:"contactFaceTaxCodeTooltip",className:`${e.contactFaceTaxCode?"visible":""}`,children:[" ",e.contactFaceTaxCode&&e.contactFaceTaxCode.message]})]}),a.jsxs(o,{children:[a.jsx(h,{children:"Номер телефону* "}),a.jsx(m,{type:"text",placeholder:"Номер телефону","aria-describedby":"contactFaceTelNumberTooltip",className:`${e.contactFaceTelNumber?"invalid":""}${!e.contactFaceTelNumber&&n.contactFaceTelNumber?"valid":""}`,...c("contactFaceTelNumber")}),a.jsxs(d,{id:"contactFaceTelNumberTooltip",className:`${e.contactFaceTelNumber?"visible":""}`,children:[" ",e.contactFaceTelNumber&&e.contactFaceTelNumber.message]}),a.jsx("p",{})]}),a.jsxs(o,{children:[a.jsx(h,{children:"E-mail "}),a.jsx(m,{type:"text",placeholder:"E-mail","aria-describedby":"contactFaceEmailTooltip",className:`${e.contactFaceEmail?"invalid":""}${!e.contactFaceEmail&&n.contactFaceEmail?"valid":""}`,...c("contactFaceEmail")}),a.jsxs(d,{id:"contactFaceEmailTooltip",className:`${e.contactFaceEmail?"visible":""}`,children:[" ",e.contactFaceEmail&&e.contactFaceEmail.message]})]})]}),xa=({register:c,errors:e,typeOfUser:x,typeOfStatus:t,handleTypeOfStatus:n,isValid:l,activeSection:s,dirtyFields:i})=>a.jsxs(G,{children:[x==="fop"||s==="MusicEditor"?a.jsxs(a.Fragment,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"Прізвище"}),a.jsx(v,{type:"text",placeholder:"Прізвище","aria-describedby":"lastNameTooltip",className:`${e.lastName?"invalid":""}${!e.lastName&&i.lastName?"valid":""}`,...c("lastName")}),a.jsx(d,{id:"lastNameTooltip",className:`${e.lastName?"visible":""}`,children:e.lastName&&e.lastName.message})]}),a.jsxs(u,{children:[a.jsx(f,{children:"Ім'я"}),a.jsx(v,{type:"text",placeholder:"Ім'я","aria-describedby":"firstNameTooltip",className:`${e.firstName?"invalid":""}${!e.firstName&&i.firstName?"valid":""}`,...c("firstName")}),a.jsx(d,{id:"firstNameTooltip",className:`${e.firstName?"visible":""}`,children:e.firstName&&e.firstName.message})]}),a.jsxs(u,{children:[a.jsx(f,{children:"По-батькові"}),a.jsx(v,{type:"text",placeholder:"По-батькові","aria-describedby":"fatherNameTooltip",className:`${e.fatherName?"invalid":""}${!e.fatherName&&i.fatherName?"valid":""}`,...c("fatherName")}),a.jsx(d,{id:"firstNameTooltip",className:`${e.fatherName?"visible":""}`,children:e.fatherName&&e.fatherName.message})]})]}):a.jsxs(u,{children:[a.jsx(f,{children:"Назва компанії"}),a.jsx(v,{type:"text",placeholder:"Назва компанії","aria-describedby":"nameTooltip",className:`${e.name?"invalid":""}${!e.name&&i.name?"valid":""}`,...c("name")}),"  ",a.jsx(d,{id:"firstNameTooltip",className:`${e.name?"visible":""}`,children:e.name&&e.name.message})]}),a.jsx(E,{type:"button",isTrue:t,onClick:()=>n(),children:t?a.jsxs(a.Fragment,{children:["On",a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:a.jsx("circle",{cx:"6.5",cy:"6.5",r:"6",fill:"#8CACD7"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:a.jsx("circle",{cx:"6.5",cy:"6.5",r:"6",fill:"#FFF3BF"})}),"Off"]})})]}),O=({dirtyFields:c,control:e,isValid:x,errors:t,register:n,typeOfUser:l})=>a.jsxs(a.Fragment,{children:[a.jsxs(o,{children:[a.jsx(h,{children:"Код ЄДРПОУ (ІНН)*"}),a.jsx(m,{type:"text",placeholder:"Код ЄДРПОУ (ІНН)","aria-describedby":"taxCodeTooltip",className:`${t.taxCode?"invalid":""}${!t.taxCode&&c.taxCode?"valid":""}`,...n("taxCode")}),a.jsx(d,{id:"taxCodeTooltip",className:`${t.taxCode?"visible":""}`,children:t.taxCode&&t.taxCode.message})]}),l==="fop"&&a.jsxs(o,{children:[a.jsx(h,{children:"Дата народження"}),a.jsx(m,{type:"text",placeholder:"Дата народження","aria-describedby":"dayOfBirthdayTooltip",className:`${t.dayOfBirthday?"invalid":""}${!t.dayOfBirthday&&c.dayOfBirthday?"valid":""}`,...n("dayOfBirthday")}),a.jsx(d,{id:"dayOfBirthdayTooltip",className:`${t.dayOfBirthday?"visible":""}`,children:t.dayOfBirthday&&t.dayOfBirthday.message})]}),a.jsxs(o,{children:[a.jsx(h,{children:"Номер телефону*"}),a.jsx(m,{type:"text",placeholder:"Номер телефону","aria-describedby":"telNumberTooltip",className:`${t.telNumber?"invalid":""}${!t.telNumber&&c.telNumber?"valid":""}`,...n("telNumber")}),a.jsx(d,{id:"telNumberTooltip",className:`${t.telNumber?"visible":""}`,children:t.telNumber&&t.telNumber.message})]}),a.jsxs(o,{children:[a.jsx(h,{children:"E-mail*"}),a.jsx(m,{type:"text",placeholder:"E-mail","aria-describedby":"emailTooltip",className:`${t.email?"invalid":""}${!t.email&&c.email?"valid":""}`,...n("email")})," ",a.jsx(d,{id:"emailTooltip",className:`${t.email?"visible":""}`,children:t.email&&t.email.message})]})]}),ha=({control:c,handleTypeOfStatus:e,activeSection:x,typeOfStatus:t,typeOfUser:n,isValid:l,errors:s,register:i,dirtyFields:p})=>a.jsxs(H,{children:[a.jsxs(J,{children:[a.jsx(xa,{handleTypeOfStatus:e,register:i,errors:s,typeOfUser:n,typeOfStatus:t,isValid:l,activeSection:x,dirtyFields:p}),x==="User"&&a.jsxs(a.Fragment,{children:[a.jsxs(o,{children:[a.jsx(h,{children:"№ договору"}),a.jsx(m,{type:"text",placeholder:"№ договору","aria-describedby":"contractNumberTooltip",className:`${s.contractNumber?"invalid":""}${!s.contractNumber&&p.contractNumber?"valid":""}`,...i("contractNumber")}),a.jsx(d,{id:"contractNumberTooltip",className:`${s.contractNumber?"visible":""}`,children:s.contractNumber&&s.contractNumber.message})]}),a.jsx(O,{typeOfUser:n,register:i,control:c,isValid:l,errors:s,readOnly:"false",dirtyFields:p}),a.jsxs(o,{children:[a.jsx(h,{children:"Надання доступу до*"}),a.jsx(m,{type:"text",placeholder:"Надання доступу до","aria-describedby":"dateOfAccessTooltip",className:`${s.dateOfAccess?"invalid":""}${!s.dateOfAccess&&p.dateOfAccess?"valid":""}`,...i("dateOfAccess")}),a.jsx(d,{id:"dateOfAccessTooltip",className:`${s.dateOfAccess?"visible":""}`,children:s.dateOfAccess&&s.dateOfAccess.message})]}),a.jsxs(o,{children:[a.jsx(h,{children:"Остання оплата* "}),a.jsx(m,{type:"text",placeholder:"Остання оплата","aria-describedby":"lastPayTooltip",className:`${s.lastPay?"invalid":""}${!s.lastPay&&p.lastPay?"valid":""}`,...i("lastPay")}),a.jsx(d,{id:"lastPayTooltip",className:`${s.lastPay?"visible":""}`,children:s.lastPay&&s.lastPay.message})]}),a.jsx(ma,{control:c,register:i,errors:s,margintop:"36px",isValid:l,dirtyFields:p})]}),x==="MusicEditor"&&a.jsxs(a.Fragment,{children:[a.jsx(O,{typeOfUser:"fop",register:i,control:c,isValid:l,errors:s,readOnly:"false",dirtyFields:p}),a.jsx(o,{children:a.jsx(m,{type:"text",placeholder:"Логін",valid:`${s.login?"invalid":""}${!s.login&&p.login?"valid":""}`,...i("login")})}),a.jsx(o,{children:a.jsx(m,{type:"text",placeholder:"Пароль",valid:`${s.password?"invalid":""}${!s.password&&p.password?"valid":""}`,...i("password")})})]})]}),a.jsxs(K,{children:[a.jsxs(Q,{children:[a.jsx(V,{children:"Примітка "}),a.jsx(W,{type:"text",placeholder:"Примітка",...i("comment")})]}),a.jsx(w,{type:"submit",padding:"8px",text:"Додати"})]})]}),pa=({onCloseModal:c})=>{const[e,x]=y.useState("User"),[t,n]=y.useState(!1),[l,s]=y.useState("fop"),[i,{isLoading:p}]=X(),[U,{isLoading:ja}]=Y(),[B,{isLoading:Na}]=Z(),T=_(),{control:A,register:M,handleSubmit:R,setError:ba,clearErrors:ua,reset:g,formState:{errors:L,isValid:k,dirtyFields:P}}=aa({mode:"onChange",resolver:l==="fop"?F(ta):l==="tov"?F(sa):F(ca)}),D=()=>{n(t!==!0)},I=()=>{s(l==="tov"?"fop":"tov"),g()},q=j=>{if(console.log(j),e==="MusicEditor"){const N={...j};B(N).unwrap().then(()=>{T("/admin/editor"),c()}).catch(b=>console.log(b.data))}if(l==="fop"){const N={...j,access:t,userFop:l};i(N).unwrap().then(()=>{T("/admin/users"),c()}).catch(b=>console.log(b.data.message))}if(l==="tov"){const N={...j,access:t,userFop:l};console.log(N),U(N).unwrap().then(()=>{T("/admin/users"),c()}).catch(b=>console.log(b.data))}},$=j=>{x(j),g()};return a.jsxs(ea,{children:[a.jsxs(S,{children:[a.jsx(C,{isActive:e==="User",onClick:()=>$("User"),children:"Новий користувач"}),a.jsx(C,{isActive:e==="MusicEditor",onClick:()=>$("MusicEditor"),children:"Музичний редактор"})]}),e==="User"&&a.jsx(E,{type:"button",onClick:I,children:l==="tov"?"ТОВ":"ФОП"}),a.jsx("form",{onSubmit:R(q),children:a.jsx(ha,{control:A,handleTypeOfStatus:D,typeOfStatus:t,register:M,isValid:k,errors:L,activeSection:e,typeOfUser:l,dirtyFields:P})})]})},ya=()=>{const[c,e]=y.useState(!1),x=()=>{e(!0)},t=()=>{e(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs(da,{children:[a.jsx(la,{children:"Користувачі"}),a.jsx(w,{type:"button",padding:"12px 46px",onClick:x,text:"Додати",ariaLabel:"  Додати користувача"}),a.jsx(oa,{type:"text",id:"search",name:"search",placeholder:"Пошук користувача"})]}),a.jsxs(S,{children:[a.jsx(r,{to:"allusers",children:"Усі користувачі"}),a.jsx(r,{to:"editors",children:"Музичні редактори та адміністратори"})]}),a.jsx(ia,{}),c&&a.jsx(na,{width:"898px",padding:"24px",onClose:t,showCloseButton:!0,children:a.jsx(pa,{onCloseModal:t,typeOfPage:"modal"})})]})};export{ya as default};
