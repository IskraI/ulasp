import{u as w,a as F,b as N,c as E,d as M,r as u,j as t,e as S,T as U,S as A}from"./index-afb5027e.js";import{S as G,a as s}from"./Statistic.styled-c6bda2d2.js";const Q=()=>{const{data:e,error:r,isFetching:i}=w(),{data:o,error:n,isFetching:a,refetch:l}=F(),{data:C,error:h,isFetching:d,refetch:c}=N(),{data:y,error:g,isFetching:x}=E(),{data:m,error:f,isFetching:j}=M();u.useEffect(()=>{c(),l()},[c,l]);const b=()=>{const p=new Date,k={month:"long"};return p.toLocaleString("uk-UA",k)};return t.jsxs(G,{children:[t.jsxs(s,{children:[!a&&!n&&!f&&!j&&`${o.countNewClients} / ${m.countClients}`,t.jsx("br",{}),"Нових користувачів"]}),t.jsxs(s,{children:[!x&&!g&&y.countNewClientsByMonth,t.jsx("br",{}),"Користувачів за ",b()]}),t.jsxs(s,{children:[!i&&!r&&e.countTracks,t.jsx("br",{}),"Доданих пісень"]}),t.jsxs(s,{children:[!d&&!h&&C.countOnlineClients,t.jsx("br",{}),"Онлайн користувачів"]})]})},L=()=>{const{data:e,isLoading:r}=S(),i=u.useMemo(()=>{const n=e?e.allUsers:[];return n?n.filter(a=>a.status===!1):[]},[e]),o=[{key:"firstName",label:"Ім’я",type:"name"},{key:"contractNumber",label:"№ договору",type:"string"},{key:"createdAt",label:"Дата заявки",type:"date"},{key:"details",label:"Детальніше",type:"link"},{key:"sendEmail",label:"",type:"button"}];return t.jsxs(t.Fragment,{children:[t.jsx(U,{children:"Кабінет адміністратора"}),t.jsx(Q,{}),t.jsx(A,{dataUsers:i,isLoading:r,titleDefault:"Чекають на підтвердження (посилання):",visibleColumns:o})]})};export{L as default};
