import{u as w,a as F,b as N,c as E,d as M,r as u,j as t,e as S,T as U,S as A}from"./index-60df5e9d.js";import{S as G,a as r}from"./Statistic.styled-6c6c3329.js";const Q=()=>{const{data:e,error:i,isFetching:o}=w(),{data:a,error:s,isFetching:n,refetch:l}=F(),{data:C,error:h,isFetching:d,refetch:c}=N(),{data:y,error:g,isFetching:x}=E(),{data:f,error:m,isFetching:j}=M();u.useEffect(()=>{c(),l()},[c,l]);const b=()=>{const p=new Date,k={month:"long"};return p.toLocaleString("uk-UA",k)};return t.jsxs(G,{children:[t.jsxs(r,{children:[!n&&!s&&!m&&!j&&`${a.countNewClients} / ${f.countClients}`,t.jsx("br",{}),"Нових користувачів"]}),t.jsxs(r,{children:[!x&&!g&&y.countNewClientsByMonth,t.jsx("br",{}),"Користувачів за ",b()]}),t.jsxs(r,{children:[!o&&!i&&e.countTracks,t.jsx("br",{}),"Доданих пісень"]}),t.jsxs(r,{children:[!d&&!h&&C.countOnlineClients,t.jsx("br",{}),"Онлайн користувачів"]})]})},L=()=>{const{data:e,isLoading:i}=S(),o=u.useMemo(()=>{const s=e?e.allUsers:[];return s?s.filter(n=>n.status===!1&&n.access===!1):[]},[e]),a=[{key:"firstName",label:"Ім’я",type:"name"},{key:"contractNumber",label:"№ договору",type:"string"},{key:"createdAt",label:"Дата заявки",type:"date"},{key:"details",label:"Детальніше",type:"link"},{key:"sendEmail",label:"",type:"button"}];return t.jsxs(t.Fragment,{children:[t.jsx(U,{children:"Кабінет адміністратора"}),t.jsx(Q,{}),t.jsx(A,{dataUsers:o,isLoading:i,titleDefault:"Чекають на підтвердження (посилання):",visibleColumns:a})]})};export{L as default};
